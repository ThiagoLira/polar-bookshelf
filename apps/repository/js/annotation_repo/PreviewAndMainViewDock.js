"use strict";
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result["default"] = mod;
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const React = __importStar(require("react"));
const AnnotationRepoTable_1 = __importDefault(require("./AnnotationRepoTable"));
const RepoAnnotationMetaView_1 = require("./RepoAnnotationMetaView");
const Dock_1 = require("../../../../web/js/ui/dock/Dock");
const Functions_1 = require("polar-shared/src/util/Functions");
const Devices_1 = require("../../../../web/js/util/Devices");
class PreviewAndMainViewDock extends React.Component {
    constructor(props, context) {
        super(props, context);
        this.state = {};
    }
    render() {
        const onSelected = (repoAnnotation) => this.onRepoAnnotationSelected(repoAnnotation);
        if (Devices_1.Devices.get() === 'phone') {
            return React.createElement(PreviewAndMainViewDock.Phone, Object.assign({}, this.props, { repoAnnotation: this.state.repoAnnotation, onSelected: onSelected }));
        }
        else {
            return React.createElement(PreviewAndMainViewDock.Default, Object.assign({}, this.props, { repoAnnotation: this.state.repoAnnotation, onSelected: onSelected }));
        }
    }
    onRepoAnnotationSelected(repoAnnotation) {
        this.setState({ repoAnnotation });
    }
}
exports.default = PreviewAndMainViewDock;
PreviewAndMainViewDock.Main = class extends PreviewAndMainViewDock {
    render() {
        return (React.createElement("div", { style: {
                display: 'flex',
                flexDirection: 'column',
                height: '100%'
            } },
            React.createElement("div", { style: { overflowY: 'auto' } },
                React.createElement(AnnotationRepoTable_1.default, { persistenceLayerManager: this.props.persistenceLayerManager, updatedDocInfoEventDispatcher: this.props.updatedDocInfoEventDispatcher, repoDocMetaManager: this.props.repoDocMetaManager, repoDocMetaLoader: this.props.repoDocMetaLoader, data: this.props.data, onSelected: this.props.onSelected || Functions_1.NULL_FUNCTION }))));
    }
};
PreviewAndMainViewDock.Default = class extends PreviewAndMainViewDock {
    render() {
        return (React.createElement(Dock_1.Dock, { componentClassNames: {}, left: React.createElement(PreviewAndMainViewDock.Main, Object.assign({}, this.props)), right: React.createElement("div", { className: "mt-2 pl-1 pr-1" },
                React.createElement(RepoAnnotationMetaView_1.RepoAnnotationMetaView, { persistenceLayerManager: this.props.persistenceLayerManager, repoAnnotation: this.props.repoAnnotation })), side: 'left', initialWidth: 450 }));
    }
};
PreviewAndMainViewDock.Phone = class extends PreviewAndMainViewDock {
    render() {
        return (React.createElement(PreviewAndMainViewDock.Main, Object.assign({}, this.props)));
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJldmlld0FuZE1haW5WaWV3RG9jay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIlByZXZpZXdBbmRNYWluVmlld0RvY2sudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLDZDQUErQjtBQU0vQixnRkFBd0Q7QUFDeEQscUVBQWdFO0FBRWhFLDBEQUFxRDtBQUNyRCwrREFBOEQ7QUFDOUQsNkRBQXdEO0FBR3hELE1BQXFCLHNCQUF1QixTQUFRLEtBQUssQ0FBQyxTQUF5QjtJQUUvRSxZQUFZLEtBQWEsRUFBRSxPQUFZO1FBQ25DLEtBQUssQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUNaLENBQUM7SUFFTixDQUFDO0lBRU0sTUFBTTtRQUVULE1BQU0sVUFBVSxHQUFHLENBQUMsY0FBOEIsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLHdCQUF3QixDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBRXJHLElBQUksaUJBQU8sQ0FBQyxHQUFHLEVBQUUsS0FBSyxPQUFPLEVBQUU7WUFDM0IsT0FBTyxvQkFBQyxzQkFBc0IsQ0FBQyxLQUFLLG9CQUFLLElBQUksQ0FBQyxLQUFLLElBQ2QsY0FBYyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUN6QyxVQUFVLEVBQUUsVUFBVSxJQUFHLENBQUE7U0FDakU7YUFBTTtZQUNILE9BQU8sb0JBQUMsc0JBQXNCLENBQUMsT0FBTyxvQkFBSyxJQUFJLENBQUMsS0FBSyxJQUNkLGNBQWMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFDekMsVUFBVSxFQUFFLFVBQVUsSUFBRyxDQUFBO1NBQ25FO0lBRUwsQ0FBQztJQUVPLHdCQUF3QixDQUFDLGNBQThCO1FBRzNELElBQUksQ0FBQyxRQUFRLENBQUMsRUFBQyxjQUFjLEVBQUMsQ0FBQyxDQUFDO0lBRXBDLENBQUM7O0FBL0JMLHlDQW1HQztBQWxFaUIsMkJBQUksR0FBRyxLQUFNLFNBQVEsc0JBQXNCO0lBRTlDLE1BQU07UUFFVCxPQUFPLENBRUgsNkJBQUssS0FBSyxFQUFFO2dCQUNKLE9BQU8sRUFBRSxNQUFNO2dCQUNmLGFBQWEsRUFBRSxRQUFRO2dCQUN2QixNQUFNLEVBQUUsTUFBTTthQUNqQjtZQUVELDZCQUFLLEtBQUssRUFBRSxFQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUM7Z0JBRTNCLG9CQUFDLDZCQUFtQixJQUFDLHVCQUF1QixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsdUJBQXVCLEVBQzNELDZCQUE2QixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsNkJBQTZCLEVBQ3ZFLGtCQUFrQixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsa0JBQWtCLEVBQ2pELGlCQUFpQixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEVBQy9DLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFDckIsVUFBVSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxJQUFJLHlCQUFhLEdBQUcsQ0FFeEUsQ0FFSixDQUVULENBQUM7SUFDTixDQUFDO0NBQ0osQ0FBQztBQUVZLDhCQUFPLEdBQUcsS0FBTSxTQUFRLHNCQUFzQjtJQUVqRCxNQUFNO1FBRVQsT0FBTyxDQUVILG9CQUFDLFdBQUksSUFBQyxtQkFBbUIsRUFBRSxFQUMxQixFQUNLLElBQUksRUFDQSxvQkFBQyxzQkFBc0IsQ0FBQyxJQUFJLG9CQUFLLElBQUksQ0FBQyxLQUFLLEVBQUcsRUFFbEQsS0FBSyxFQUNELDZCQUFLLFNBQVMsRUFBQyxnQkFBZ0I7Z0JBQzNCLG9CQUFDLCtDQUFzQixJQUFDLHVCQUF1QixFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsdUJBQXVCLEVBQzNELGNBQWMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsR0FBRyxDQUNsRSxFQUVWLElBQUksRUFBQyxNQUFNLEVBQ1gsWUFBWSxFQUFFLEdBQUcsR0FBRyxDQUM3QixDQUFDO0lBQ04sQ0FBQztDQUVKLENBQUM7QUFFWSw0QkFBSyxHQUFHLEtBQU0sU0FBUSxzQkFBc0I7SUFFL0MsTUFBTTtRQUVULE9BQU8sQ0FFTCxvQkFBQyxzQkFBc0IsQ0FBQyxJQUFJLG9CQUFLLElBQUksQ0FBQyxLQUFLLEVBQUcsQ0FFL0MsQ0FBQztJQUNOLENBQUM7Q0FFSixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtSZXBvRG9jTWV0YUxvYWRlcn0gZnJvbSAnLi4vUmVwb0RvY01ldGFMb2FkZXInO1xuaW1wb3J0IHtSZXBvRG9jTWV0YU1hbmFnZXJ9IGZyb20gJy4uL1JlcG9Eb2NNZXRhTWFuYWdlcic7XG5pbXBvcnQge0lEb2NJbmZvfSBmcm9tICdwb2xhci1zaGFyZWQvc3JjL21ldGFkYXRhL0lEb2NJbmZvJztcbmltcG9ydCB7SUV2ZW50RGlzcGF0Y2hlcn0gZnJvbSAnLi4vLi4vLi4vLi4vd2ViL2pzL3JlYWN0b3IvU2ltcGxlUmVhY3Rvcic7XG5pbXBvcnQge1BlcnNpc3RlbmNlTGF5ZXJNYW5hZ2VyfSBmcm9tICcuLi8uLi8uLi8uLi93ZWIvanMvZGF0YXN0b3JlL1BlcnNpc3RlbmNlTGF5ZXJNYW5hZ2VyJztcbmltcG9ydCBBbm5vdGF0aW9uUmVwb1RhYmxlIGZyb20gJy4vQW5ub3RhdGlvblJlcG9UYWJsZSc7XG5pbXBvcnQge1JlcG9Bbm5vdGF0aW9uTWV0YVZpZXd9IGZyb20gJy4vUmVwb0Fubm90YXRpb25NZXRhVmlldyc7XG5pbXBvcnQge1VwZGF0ZUZpbHRlcnNDYWxsYmFja30gZnJvbSAnLi9Bbm5vdGF0aW9uUmVwb0ZpbHRlcnNIYW5kbGVyJztcbmltcG9ydCB7RG9ja30gZnJvbSAnLi4vLi4vLi4vLi4vd2ViL2pzL3VpL2RvY2svRG9jayc7XG5pbXBvcnQge05VTExfRlVOQ1RJT059IGZyb20gXCJwb2xhci1zaGFyZWQvc3JjL3V0aWwvRnVuY3Rpb25zXCI7XG5pbXBvcnQge0RldmljZXN9IGZyb20gXCIuLi8uLi8uLi8uLi93ZWIvanMvdXRpbC9EZXZpY2VzXCI7XG5pbXBvcnQge0lEb2NBbm5vdGF0aW9ufSBmcm9tIFwiLi4vLi4vLi4vLi4vd2ViL2pzL2Fubm90YXRpb25fc2lkZWJhci9Eb2NBbm5vdGF0aW9uXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByZXZpZXdBbmRNYWluVmlld0RvY2sgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVByb3BzLCBJU3RhdGU+IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBJUHJvcHMsIGNvbnRleHQ6IGFueSkge1xuICAgICAgICBzdXBlcihwcm9wcywgY29udGV4dCk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgfTtcblxuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXIoKSB7XG5cbiAgICAgICAgY29uc3Qgb25TZWxlY3RlZCA9IChyZXBvQW5ub3RhdGlvbjogSURvY0Fubm90YXRpb24pID0+IHRoaXMub25SZXBvQW5ub3RhdGlvblNlbGVjdGVkKHJlcG9Bbm5vdGF0aW9uKTtcblxuICAgICAgICBpZiAoRGV2aWNlcy5nZXQoKSA9PT0gJ3Bob25lJykge1xuICAgICAgICAgICAgcmV0dXJuIDxQcmV2aWV3QW5kTWFpblZpZXdEb2NrLlBob25lIHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9Bbm5vdGF0aW9uPXt0aGlzLnN0YXRlLnJlcG9Bbm5vdGF0aW9ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0ZWQ9e29uU2VsZWN0ZWR9Lz5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiA8UHJldmlld0FuZE1haW5WaWV3RG9jay5EZWZhdWx0IHsuLi50aGlzLnByb3BzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb0Fubm90YXRpb249e3RoaXMuc3RhdGUucmVwb0Fubm90YXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGVkPXtvblNlbGVjdGVkfS8+XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHByaXZhdGUgb25SZXBvQW5ub3RhdGlvblNlbGVjdGVkKHJlcG9Bbm5vdGF0aW9uOiBJRG9jQW5ub3RhdGlvbikge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkEgcmVwbyBhbm5vdGF0aW9uIHdhcyBzZWxlY3RlZDogXCIgLCByZXBvQW5ub3RhdGlvbik7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cmVwb0Fubm90YXRpb259KTtcblxuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgTWFpbiA9IGNsYXNzIGV4dGVuZHMgUHJldmlld0FuZE1haW5WaWV3RG9jayB7XG5cbiAgICAgICAgcHVibGljIHJlbmRlcigpIHtcblxuICAgICAgICAgICAgcmV0dXJuIChcblxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyAsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnXG4gICAgICAgICAgICAgICAgICAgIH19PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tvdmVyZmxvd1k6ICdhdXRvJ319PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICA8QW5ub3RhdGlvblJlcG9UYWJsZSBwZXJzaXN0ZW5jZUxheWVyTWFuYWdlcj17dGhpcy5wcm9wcy5wZXJzaXN0ZW5jZUxheWVyTWFuYWdlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWREb2NJbmZvRXZlbnREaXNwYXRjaGVyPXt0aGlzLnByb3BzLnVwZGF0ZWREb2NJbmZvRXZlbnREaXNwYXRjaGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb0RvY01ldGFNYW5hZ2VyPXt0aGlzLnByb3BzLnJlcG9Eb2NNZXRhTWFuYWdlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9Eb2NNZXRhTG9hZGVyPXt0aGlzLnByb3BzLnJlcG9Eb2NNZXRhTG9hZGVyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YT17dGhpcy5wcm9wcy5kYXRhfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RlZD17dGhpcy5wcm9wcy5vblNlbGVjdGVkIHx8IE5VTExfRlVOQ1RJT059Lz5cblxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHB1YmxpYyBzdGF0aWMgRGVmYXVsdCA9IGNsYXNzIGV4dGVuZHMgUHJldmlld0FuZE1haW5WaWV3RG9jayB7XG5cbiAgICAgICAgcHVibGljIHJlbmRlcigpIHtcblxuICAgICAgICAgICAgcmV0dXJuIChcblxuICAgICAgICAgICAgICAgIDxEb2NrIGNvbXBvbmVudENsYXNzTmFtZXM9e3tcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGxlZnQ9e1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJldmlld0FuZE1haW5WaWV3RG9jay5NYWluIHsuLi50aGlzLnByb3BzfS8+XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0PXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHBsLTEgcHItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlcG9Bbm5vdGF0aW9uTWV0YVZpZXcgcGVyc2lzdGVuY2VMYXllck1hbmFnZXI9e3RoaXMucHJvcHMucGVyc2lzdGVuY2VMYXllck1hbmFnZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBvQW5ub3RhdGlvbj17dGhpcy5wcm9wcy5yZXBvQW5ub3RhdGlvbn0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgc2lkZT0nbGVmdCdcbiAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsV2lkdGg9ezQ1MH0vPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgfTtcblxuICAgIHB1YmxpYyBzdGF0aWMgUGhvbmUgPSBjbGFzcyBleHRlbmRzIFByZXZpZXdBbmRNYWluVmlld0RvY2sge1xuXG4gICAgICAgIHB1YmxpYyByZW5kZXIoKSB7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG5cbiAgICAgICAgICAgICAgPFByZXZpZXdBbmRNYWluVmlld0RvY2suTWFpbiB7Li4udGhpcy5wcm9wc30vPlxuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICB9XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUHJvcHMge1xuXG4gICAgcmVhZG9ubHkgcGVyc2lzdGVuY2VMYXllck1hbmFnZXI6IFBlcnNpc3RlbmNlTGF5ZXJNYW5hZ2VyO1xuXG4gICAgcmVhZG9ubHkgdXBkYXRlZERvY0luZm9FdmVudERpc3BhdGNoZXI6IElFdmVudERpc3BhdGNoZXI8SURvY0luZm8+O1xuXG4gICAgcmVhZG9ubHkgcmVwb0RvY01ldGFNYW5hZ2VyOiBSZXBvRG9jTWV0YU1hbmFnZXI7XG5cbiAgICByZWFkb25seSByZXBvRG9jTWV0YUxvYWRlcjogUmVwb0RvY01ldGFMb2FkZXI7XG5cbiAgICByZWFkb25seSB1cGRhdGVGaWx0ZXJzOiBVcGRhdGVGaWx0ZXJzQ2FsbGJhY2s7XG5cbiAgICByZWFkb25seSBkYXRhOiBSZWFkb25seUFycmF5PElEb2NBbm5vdGF0aW9uPjtcblxuICAgIHJlYWRvbmx5IG9uU2VsZWN0ZWQ/OiAocmVwb0Fubm90YXRpb246IElEb2NBbm5vdGF0aW9uKSA9PiB2b2lkO1xuXG4gICAgcmVhZG9ubHkgcmVwb0Fubm90YXRpb24/OiBJRG9jQW5ub3RhdGlvbjtcblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElTdGF0ZSB7XG5cbiAgICByZWFkb25seSByZXBvQW5ub3RhdGlvbj86IElEb2NBbm5vdGF0aW9uO1xuXG59XG5cbiJdfQ==
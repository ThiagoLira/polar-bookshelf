"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class TagsDB {
    constructor() {
        this.index = {};
    }
    register(...tags) {
        tags.forEach(tag => {
            if (!this.index[tag.id]) {
                this.index[tag.id] = Object.assign(Object.assign({}, tag), { count: 0 });
            }
            this.index[tag.id].count++;
        });
    }
    tags() {
        return Object.values(this.index);
    }
}
exports.TagsDB = TagsDB;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFnc0RCLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiVGFnc0RCLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBUUEsTUFBYSxNQUFNO0lBQW5CO1FBTXFCLFVBQUssR0FBeUMsRUFBRSxDQUFDO0lBMkJ0RSxDQUFDO0lBekJVLFFBQVEsQ0FBQyxHQUFHLElBQVc7UUFFMUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUVmLElBQUksQ0FBRSxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRTtnQkFDdEIsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLG1DQUFPLEdBQUcsS0FBRSxLQUFLLEVBQUUsQ0FBQyxHQUFDLENBQUM7YUFDM0M7WUFNRCxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUUvQixDQUFDLENBQUMsQ0FBQztJQUVQLENBQUM7SUFLTSxJQUFJO1FBQ1AsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQyxDQUFDO0NBRUo7QUFqQ0Qsd0JBaUNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSZXBvRG9jSW5mb30gZnJvbSAnLi9SZXBvRG9jSW5mbyc7XG5pbXBvcnQge1RhZ0Rlc2NyaXB0b3J9IGZyb20gJy4uLy4uLy4uL3dlYi9qcy90YWdzL1RhZ05vZGUnO1xuaW1wb3J0IHtUYWd9IGZyb20gJ3BvbGFyLXNoYXJlZC9zcmMvdGFncy9UYWdzJztcblxuLyoqXG4gKiBBIHNpbXBsZSBpbi1tZW1vcnkgZGF0YWJhc2Ugb2YgdGFncyB3aGljaCBjYW4gYmUgYnVpbHQgd2hlbiB3ZSBsb2FkIHRoZSAuanNvblxuICogZGF0YSBmcm9tIGRpc2suXG4gKi9cbmV4cG9ydCBjbGFzcyBUYWdzREIge1xuXG4gICAgLyoqXG4gICAgICogU3RvcmVzIHRoZSBhY3R1YWwgZGF0YSB3ZSdyZSBpbmRleGluZy4gIFRoZSBrZXkgaXMgdGhlIGxvd2VyY2FzZVxuICAgICAqIHJlcHJlc2VudGF0aW9uIG9mIGEgdGFnXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWFkb25seSBpbmRleDoge1tpZDogc3RyaW5nXTogTXV0YWJsZVRhZ0Rlc2NyaXB0b3J9ID0ge307XG5cbiAgICBwdWJsaWMgcmVnaXN0ZXIoLi4udGFnczogVGFnW10pOiB2b2lkIHtcblxuICAgICAgICB0YWdzLmZvckVhY2godGFnID0+IHtcblxuICAgICAgICAgICAgaWYgKCEgdGhpcy5pbmRleFt0YWcuaWRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleFt0YWcuaWRdID0gey4uLnRhZywgY291bnQ6IDB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPOiB0aGlzIGlzIGFjdHVhbGx5IHdyb25nIGJlY2F1c2Ugd2UgY2FuJ3QgYWRkIG9yIGRlbGV0ZVxuICAgICAgICAgICAgLy8gcmVjb3Jkcy4gIFVQREFURTogSSB3YXNuJ3Qgc3VyZSB3aGF0IHRoaXMgbWVhbnQgc28gSSBlbmRlZCB1cFxuICAgICAgICAgICAgLy8gY2hhbmdpbmcgdGhpcyB0byBhIFRPRE8gdGFzay4gIEkgbWlnaHQgaGF2ZSB0byBjbGVhbiB0aGlzIHVwXG4gICAgICAgICAgICAvLyBpbiB0aGUgZnV0dXJlLlxuICAgICAgICAgICAgdGhpcy5pbmRleFt0YWcuaWRdLmNvdW50Kys7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHRoZSBsYWJlbHMgb2YgYWxsIHRoZSB0YWdzIHdlJ3ZlIGluZGV4ZWQgc28gZmFyLlxuICAgICAqL1xuICAgIHB1YmxpYyB0YWdzKCk6IFJlYWRvbmx5QXJyYXk8UmVhZG9ubHk8TXV0YWJsZVRhZ0Rlc2NyaXB0b3I+PiB7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHRoaXMuaW5kZXgpO1xuICAgIH1cblxufVxuXG5pbnRlcmZhY2UgTXV0YWJsZVRhZ0Rlc2NyaXB0b3IgZXh0ZW5kcyBUYWcge1xuICAgIGNvdW50OiBudW1iZXI7XG59XG4iXX0=
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ISODateTimeStrings_1 = require("polar-shared/src/metadata/ISODateTimeStrings");
const Strings_1 = require("polar-shared/src/util/Strings");
class Sequences {
    static create() {
        if (this.NONCE > 999999) {
            this.NONCE = 0;
        }
        const now = new Date();
        const nonce = Strings_1.Strings.lpad(this.NONCE++, '0', 6);
        const machine = Strings_1.Strings.lpad(this.MACHINE, '0', 12);
        return 'z' + ISODateTimeStrings_1.ISODateTimeStrings.create() + `+${nonce}-${machine}`;
    }
}
exports.Sequences = Sequences;
Sequences.MACHINE = Math.floor(999999999999 * Math.random());
Sequences.NONCE = 0;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VxdWVuY2VzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiU2VxdWVuY2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEscUZBQWdGO0FBQ2hGLDJEQUFzRDtBQVF0RCxNQUFhLFNBQVM7SUFNWCxNQUFNLENBQUMsTUFBTTtRQUVoQixJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxFQUFFO1lBQ3JCLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDO1NBQ2xCO1FBSUQsTUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUV2QixNQUFNLEtBQUssR0FBRyxpQkFBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQ2pELE1BQU0sT0FBTyxHQUFHLGlCQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBR3BELE9BQU8sR0FBRyxHQUFHLHVDQUFrQixDQUFDLE1BQU0sRUFBRSxHQUFHLElBQUksS0FBSyxJQUFJLE9BQU8sRUFBRSxDQUFDO0lBRXRFLENBQUM7O0FBdEJMLDhCQXlCQztBQXZCaUIsaUJBQU8sR0FBVyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztBQUUzRCxlQUFLLEdBQVcsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJU09EYXRlVGltZVN0cmluZ3N9IGZyb20gJ3BvbGFyLXNoYXJlZC9zcmMvbWV0YWRhdGEvSVNPRGF0ZVRpbWVTdHJpbmdzJztcbmltcG9ydCB7U3RyaW5nc30gZnJvbSBcInBvbGFyLXNoYXJlZC9zcmMvdXRpbC9TdHJpbmdzXCI7XG5cbi8qKlxuICogQ3JlYXRlcyBodW1hbiByZWFkYWJsZSBzZXF1ZW5jZXMgdGhhdCBhcmUgb3BhcXVlIHN0cmluZ3MuICBUaGV5IG9ubHkgbmVlZCB0b1xuICogYmUgc29ydGFibGUgc28gdGhhdCBuZXdlciBzZXF1ZW5jZXMgc29ydCBhZnRlciBlYXJsaWVyIG9uZXMuXG4gKlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIFNlcXVlbmNlcyB7XG5cbiAgICBwdWJsaWMgc3RhdGljIE1BQ0hJTkU6IG51bWJlciA9IE1hdGguZmxvb3IoOTk5OTk5OTk5OTk5ICogTWF0aC5yYW5kb20oKSk7XG5cbiAgICBwdWJsaWMgc3RhdGljIE5PTkNFOiBudW1iZXIgPSAwO1xuXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTogU2VxdWVuY2Uge1xuXG4gICAgICAgIGlmICh0aGlzLk5PTkNFID4gOTk5OTk5KSB7XG4gICAgICAgICAgICB0aGlzLk5PTkNFID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDQxY2NmNjYwLWZiNWEtMTFlOC1hZTc4LTNiZjcwODIzNzM2M1xuXG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgY29uc3Qgbm9uY2UgPSBTdHJpbmdzLmxwYWQodGhpcy5OT05DRSsrLCAnMCcsIDYpOyAvLyBob3cgZG8gSSBkZWFsIHdpdGggbm9uY2Ugcm9sbG92ZXI/ICBJIGp1c3QgbmVlZCB0byBoYW5kbGVcbiAgICAgICAgY29uc3QgbWFjaGluZSA9IFN0cmluZ3MubHBhZCh0aGlzLk1BQ0hJTkUsICcwJywgMTIpO1xuXG4gICAgICAgIC8vIHVzZSBhIHogcHJlZml4IHNvIGl0IHNvcnRzIGxhc3QgaW4gc3RyaW5nIGNvbXBhcmlzb24uXG4gICAgICAgIHJldHVybiAneicgKyBJU09EYXRlVGltZVN0cmluZ3MuY3JlYXRlKCkgKyBgKyR7bm9uY2V9LSR7bWFjaGluZX1gO1xuXG4gICAgfVxuXG5cbn1cblxuZXhwb3J0IHR5cGUgU2VxdWVuY2UgPSBzdHJpbmc7XG4iXX0=
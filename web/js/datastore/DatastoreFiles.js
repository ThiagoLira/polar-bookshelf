"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class DatastoreFiles {
    static isValidFileName(name) {
        return name.search(/^[a-zA-Z0-9_(),{} -]+(\.[a-zA-Z0-9]{3,4})?$/g) !== -1;
    }
    static assertValidFileName(ref) {
        if (!this.isValidFileName(ref.name)) {
            throw new Error("Invalid file name: " + ref.name);
        }
    }
    static sanitizeFileName(name) {
        return name.replace(/[/\\:*?\"<>|]/g, '_');
    }
    static isSanitizedFileName(name) {
        return name.search(/[/\\:*?\"<>|]/) === -1;
    }
    static assertSanitizedFileName(ref) {
        if (!this.isSanitizedFileName(ref.name)) {
            throw new Error("Invalid file name: " + ref.name);
        }
    }
}
exports.DatastoreFiles = DatastoreFiles;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YXN0b3JlRmlsZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJEYXRhc3RvcmVGaWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLE1BQWEsY0FBYztJQU9oQixNQUFNLENBQUMsZUFBZSxDQUFDLElBQVk7UUFDdEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLDhDQUE4QyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDOUUsQ0FBQztJQUVNLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxHQUFZO1FBRTFDLElBQUksQ0FBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNsQyxNQUFNLElBQUksS0FBSyxDQUFDLHFCQUFxQixHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNyRDtJQUVMLENBQUM7SUFRTSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsSUFBWTtRQUN2QyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVNLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxJQUFZO1FBQzFDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRU0sTUFBTSxDQUFDLHVCQUF1QixDQUFDLEdBQVk7UUFDOUMsSUFBSSxDQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxxQkFBcUIsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDckQ7SUFDTCxDQUFDO0NBRUo7QUF2Q0Qsd0NBdUNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtGaWxlUmVmfSBmcm9tIFwicG9sYXItc2hhcmVkL3NyYy9kYXRhc3RvcmUvRmlsZVJlZlwiO1xuXG5leHBvcnQgY2xhc3MgRGF0YXN0b3JlRmlsZXMge1xuXG4gICAgLyoqXG4gICAgICogTWFrZSBzdXJlIHRoZSBmaWxlIG5hbWUgaXMgc2FuZSAuLi4gbm90aGluZyB0aGF0IGNhbid0IGJlIGVuY29kZWRcbiAgICAgKiBhcyBhIGZpbGUgYW5kIG11c3QgaGF2ZSBhIHRocmVlIGxldHRlciBleHRlbnNpb24uICBXZSBzaG91bGQganVzdCBoYXZlXG4gICAgICogdGhlIGZpbGVzIGJlIGFscGhhbnVtZXJpYyBmb3Igbm93IGFuZCBzdXBwb3J0IGEgMy00IGNoYXIgc3VmZml4LlxuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgaXNWYWxpZEZpbGVOYW1lKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gbmFtZS5zZWFyY2goL15bYS16QS1aMC05XygpLHt9IC1dKyhcXC5bYS16QS1aMC05XXszLDR9KT8kL2cpICE9PSAtMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGFzc2VydFZhbGlkRmlsZU5hbWUocmVmOiBGaWxlUmVmKSB7XG5cbiAgICAgICAgaWYgKCEgdGhpcy5pc1ZhbGlkRmlsZU5hbWUocmVmLm5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZpbGUgbmFtZTogXCIgKyByZWYubmFtZSk7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJsYWNrbGlzdCBtb2RlbCB0byBhY2NlcHQgYSBzdHJpbmcgZm9yIGEgZmlsZW5hbWUgYW5kIHN0cmlwIGNoYXJhY3RlcnNcbiAgICAgKiB0aGF0IGFyZSBpbnZhbGlkIGFuZCBub3QgYWNjZXB0ZWQgb24gbW9zdCBmaWxlc3lzdGVtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuYW1lXG4gICAgICovXG4gICAgcHVibGljIHN0YXRpYyBzYW5pdGl6ZUZpbGVOYW1lKG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gbmFtZS5yZXBsYWNlKC9bL1xcXFw6Kj9cXFwiPD58XS9nLCAnXycpO1xuICAgIH1cblxuICAgIHB1YmxpYyBzdGF0aWMgaXNTYW5pdGl6ZWRGaWxlTmFtZShuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIG5hbWUuc2VhcmNoKC9bL1xcXFw6Kj9cXFwiPD58XS8pID09PSAtMTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGFzc2VydFNhbml0aXplZEZpbGVOYW1lKHJlZjogRmlsZVJlZikge1xuICAgICAgICBpZiAoISB0aGlzLmlzU2FuaXRpemVkRmlsZU5hbWUocmVmLm5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGZpbGUgbmFtZTogXCIgKyByZWYubmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiJdfQ==
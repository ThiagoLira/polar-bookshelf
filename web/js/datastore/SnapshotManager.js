"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const SimpleReactor_1 = require("../reactor/SimpleReactor");
class SnapshotManager {
    constructor(datastore) {
        this.docMetaSnapshotEventDispatcher = new SimpleReactor_1.SimpleReactor();
        this.datastore = datastore;
    }
    addDocMetaSnapshotEventListener(docMetaSnapshotEventListener) {
        this.docMetaSnapshotEventDispatcher.addEventListener(docMetaSnapshotEventListener);
    }
    stop() {
        this.docMetaSnapshotEventDispatcher.clear();
    }
}
exports.SnapshotManager = SnapshotManager;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU25hcHNob3RNYW5hZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiU25hcHNob3RNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsNERBQXlFO0FBSXpFLE1BQWEsZUFBZTtJQU14QixZQUFZLFNBQW9CO1FBSmYsbUNBQThCLEdBQTJDLElBQUksNkJBQWEsRUFBRSxDQUFDO1FBSzFHLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQy9CLENBQUM7SUFvRE0sK0JBQStCLENBQUMsNEJBQTBEO1FBQzdGLElBQUksQ0FBQyw4QkFBOEIsQ0FBQyxnQkFBZ0IsQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0lBQ3ZGLENBQUM7SUFFTSxJQUFJO1FBQ1AsSUFBSSxDQUFDLDhCQUE4QixDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2hELENBQUM7Q0FFSjtBQXBFRCwwQ0FvRUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0RhdGFzdG9yZSwgRG9jTWV0YVNuYXBzaG90RXZlbnQsIERvY01ldGFTbmFwc2hvdEV2ZW50TGlzdGVuZXJ9IGZyb20gXCIuL0RhdGFzdG9yZVwiO1xuaW1wb3J0IHtJRXZlbnREaXNwYXRjaGVyLCBTaW1wbGVSZWFjdG9yfSBmcm9tICcuLi9yZWFjdG9yL1NpbXBsZVJlYWN0b3InO1xuXG4vKipcbiAqL1xuZXhwb3J0IGNsYXNzIFNuYXBzaG90TWFuYWdlciB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IGRvY01ldGFTbmFwc2hvdEV2ZW50RGlzcGF0Y2hlcjogSUV2ZW50RGlzcGF0Y2hlcjxEb2NNZXRhU25hcHNob3RFdmVudD4gPSBuZXcgU2ltcGxlUmVhY3RvcigpO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBkYXRhc3RvcmU6IERhdGFzdG9yZTtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGFzdG9yZTogRGF0YXN0b3JlKSB7XG4gICAgICAgIHRoaXMuZGF0YXN0b3JlID0gZGF0YXN0b3JlO1xuICAgIH1cbiAgICAvL1xuICAgIC8vIHB1YmxpYyBvbkRlbGV0ZShkb2NNZXRhRmlsZVJlZjogRG9jTWV0YUZpbGVSZWYpOiB2b2lkIHtcbiAgICAvL1xuICAgIC8vICAgICBjb25zdCBmYWlsdXJlUHJvdmlkZXIgPSBhc3luYyAoKSA9PiBQcm9taXNlLnJlamVjdChcIk5vIHJlYWRzIGR1cmluZyBkZWxldGUgYWxsb3dlZFwiKTtcbiAgICAvL1xuICAgIC8vICAgICBjb25zdCBkb2NNZXRhU25hcHNob3RFdmVudDogRG9jTWV0YVNuYXBzaG90RXZlbnQgPSB7XG4gICAgLy8gICAgICAgICBkYXRhc3RvcmU6IHRoaXMuZGF0YXN0b3JlLmlkLFxuICAgIC8vICAgICAgICAgcHJvZ3Jlc3M6IFByb2dyZXNzVHJhY2tlcnMuY29tcGxldGVkKCdvbkRlbGV0ZScpLFxuICAgIC8vICAgICAgICAgY29uc2lzdGVuY3k6ICdjb21taXR0ZWQnLFxuICAgIC8vICAgICAgICAgZG9jTWV0YU11dGF0aW9uczogW1xuICAgIC8vICAgICAgICAgICAgIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgZmluZ2VycHJpbnQ6IGRvY01ldGFGaWxlUmVmLmZpbmdlcnByaW50LFxuICAgIC8vICAgICAgICAgICAgICAgICAvLyBmb3IgZGVsZXRlcyBkbyBub3QgcmVmZXJlbmNlIHRoZSBEb2NJbmZvIG9yIHRoZSBEb2NNZXRhXG4gICAgLy8gICAgICAgICAgICAgICAgIGRhdGFQcm92aWRlcjogZmFpbHVyZVByb3ZpZGVyLFxuICAgIC8vICAgICAgICAgICAgICAgICBkb2NNZXRhUHJvdmlkZXI6IGZhaWx1cmVQcm92aWRlcixcbiAgICAvLyAgICAgICAgICAgICAgICAgZG9jSW5mb1Byb3ZpZGVyOiBmYWlsdXJlUHJvdmlkZXIsXG4gICAgLy8gICAgICAgICAgICAgICAgIGRvY01ldGFGaWxlUmVmUHJvdmlkZXI6IGFzeW5jICgpID0+IGRvY01ldGFGaWxlUmVmLFxuICAgIC8vICAgICAgICAgICAgICAgICBtdXRhdGlvblR5cGU6ICdkZWxldGVkJ1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvL1xuICAgIC8vICAgICAgICAgXVxuICAgIC8vICAgICB9O1xuICAgIC8vXG4gICAgLy8gICAgIHRoaXMuZG9jTWV0YVNuYXBzaG90RXZlbnREaXNwYXRjaGVyLmRpc3BhdGNoRXZlbnQoZG9jTWV0YVNuYXBzaG90RXZlbnQpO1xuICAgIC8vXG4gICAgLy8gfVxuICAgIC8vXG4gICAgLy8gcHVibGljIG9uV3JpdGUoZmluZ2VycHJpbnQ6IHN0cmluZywgZGF0YTogc3RyaW5nLCBkb2NJbmZvOiBJRG9jSW5mbyk6IHZvaWQge1xuICAgIC8vXG4gICAgLy8gICAgIGNvbnN0IGRvY01ldGFTbmFwc2hvdEV2ZW50OiBEb2NNZXRhU25hcHNob3RFdmVudCA9IHtcbiAgICAvLyAgICAgICAgIGRhdGFzdG9yZTogdGhpcy5kYXRhc3RvcmUuaWQsXG4gICAgLy8gICAgICAgICBwcm9ncmVzczogUHJvZ3Jlc3NUcmFja2Vycy5jb21wbGV0ZWQoJ29uV3JpdGUnKSxcbiAgICAvLyAgICAgICAgIGNvbnNpc3RlbmN5OiAnY29tbWl0dGVkJyxcbiAgICAvLyAgICAgICAgIGRvY01ldGFNdXRhdGlvbnM6IFtcbiAgICAvLyAgICAgICAgICAgICB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGZpbmdlcnByaW50LFxuICAgIC8vICAgICAgICAgICAgICAgICBkYXRhUHJvdmlkZXI6IEFzeW5jUHJvdmlkZXJzLm9mKGRhdGEpLFxuICAgIC8vICAgICAgICAgICAgICAgICBkb2NNZXRhUHJvdmlkZXI6IGFzeW5jICgpID0+IERvY01ldGFzLmRlc2VyaWFsaXplKGRhdGEpLFxuICAgIC8vICAgICAgICAgICAgICAgICBkb2NJbmZvUHJvdmlkZXI6IGFzeW5jICgpID0+IGRvY0luZm8sXG4gICAgLy8gICAgICAgICAgICAgICAgIGRvY01ldGFGaWxlUmVmUHJvdmlkZXI6IGFzeW5jICgpID0+IERvY01ldGFGaWxlUmVmcy5jcmVhdGVGcm9tRG9jSW5mbyhkb2NJbmZvKSxcbiAgICAvLyAgICAgICAgICAgICAgICAgLy8gVE9ETzogd2UgZG9uJ3Qga25vdyByaWdodCBub3cgaWYgaXQncyBjcmVhdGVkIG9yIHVwZGF0ZWRcbiAgICAvLyAgICAgICAgICAgICAgICAgLy8gYnV0IGZvciBvdXIgdXNlcyBJIGRvbid0IHRoaW5rIGl0IG1hdHRlcnMuXG4gICAgLy8gICAgICAgICAgICAgICAgIG11dGF0aW9uVHlwZTogJ3VwZGF0ZWQnXG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgXSxcbiAgICAvLyAgICAgfTtcbiAgICAvL1xuICAgIC8vICAgICB0aGlzLmRvY01ldGFTbmFwc2hvdEV2ZW50RGlzcGF0Y2hlci5kaXNwYXRjaEV2ZW50KGRvY01ldGFTbmFwc2hvdEV2ZW50KTtcbiAgICAvL1xuICAgIC8vIH1cblxuICAgIHB1YmxpYyBhZGREb2NNZXRhU25hcHNob3RFdmVudExpc3RlbmVyKGRvY01ldGFTbmFwc2hvdEV2ZW50TGlzdGVuZXI6IERvY01ldGFTbmFwc2hvdEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5kb2NNZXRhU25hcHNob3RFdmVudERpc3BhdGNoZXIuYWRkRXZlbnRMaXN0ZW5lcihkb2NNZXRhU25hcHNob3RFdmVudExpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RvcCgpIHtcbiAgICAgICAgdGhpcy5kb2NNZXRhU25hcHNob3RFdmVudERpc3BhdGNoZXIuY2xlYXIoKTtcbiAgICB9XG5cbn1cbiJdfQ==
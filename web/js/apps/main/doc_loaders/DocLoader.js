"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const DistRuntime_1 = require("../../../dist_runtime/DistRuntime");
const ElectronDocLoader_1 = require("./electron/ElectronDocLoader");
const BrowserDocLoader_1 = require("./browser/BrowserDocLoader");
class DocLoader {
    constructor(persistenceLayerProvider) {
        this.persistenceLayerProvider = persistenceLayerProvider;
        this.electronDocLoader = new ElectronDocLoader_1.ElectronDocLoader(persistenceLayerProvider);
        this.browserDocLoader = new BrowserDocLoader_1.BrowserDocLoader(persistenceLayerProvider);
    }
    create(loadDocRequest) {
        if (DistRuntime_1.DistRuntime.get() === 'electron') {
            return this.electronDocLoader.create(loadDocRequest);
        }
        else {
            return this.browserDocLoader.create(loadDocRequest);
        }
    }
}
exports.DocLoader = DocLoader;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRG9jTG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiRG9jTG9hZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsbUVBQThEO0FBQzlELG9FQUErRDtBQUMvRCxpRUFBNEQ7QUFLNUQsTUFBYSxTQUFTO0lBT2xCLFlBQVksd0JBQXFEO1FBQzdELElBQUksQ0FBQyx3QkFBd0IsR0FBRyx3QkFBd0IsQ0FBQztRQUN6RCxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxxQ0FBaUIsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQ3pFLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLG1DQUFnQixDQUFDLHdCQUF3QixDQUFDLENBQUM7SUFDM0UsQ0FBQztJQUVNLE1BQU0sQ0FBQyxjQUE4QjtRQUV4QyxJQUFJLHlCQUFXLENBQUMsR0FBRyxFQUFFLEtBQUssVUFBVSxFQUFFO1lBQ2xDLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQztTQUN4RDthQUFNO1lBQ0gsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQ3ZEO0lBRUwsQ0FBQztDQUVKO0FBdkJELDhCQXVCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TG9hZERvY1JlcXVlc3R9IGZyb20gJy4vTG9hZERvY1JlcXVlc3QnO1xuaW1wb3J0IHtQcmVjb25kaXRpb25zfSBmcm9tICdwb2xhci1zaGFyZWQvc3JjL1ByZWNvbmRpdGlvbnMnO1xuaW1wb3J0IHtEaXN0UnVudGltZX0gZnJvbSAnLi4vLi4vLi4vZGlzdF9ydW50aW1lL0Rpc3RSdW50aW1lJztcbmltcG9ydCB7RWxlY3Ryb25Eb2NMb2FkZXJ9IGZyb20gJy4vZWxlY3Ryb24vRWxlY3Ryb25Eb2NMb2FkZXInO1xuaW1wb3J0IHtCcm93c2VyRG9jTG9hZGVyfSBmcm9tICcuL2Jyb3dzZXIvQnJvd3NlckRvY0xvYWRlcic7XG5pbXBvcnQge0lQcm92aWRlcn0gZnJvbSAncG9sYXItc2hhcmVkL3NyYy91dGlsL1Byb3ZpZGVycyc7XG5pbXBvcnQge1BlcnNpc3RlbmNlTGF5ZXJ9IGZyb20gJy4uLy4uLy4uL2RhdGFzdG9yZS9QZXJzaXN0ZW5jZUxheWVyJztcbmltcG9ydCB7SURvY0xvYWRlciwgSURvY0xvYWRSZXF1ZXN0fSBmcm9tICcuL0lEb2NMb2FkZXInO1xuXG5leHBvcnQgY2xhc3MgRG9jTG9hZGVyIGltcGxlbWVudHMgSURvY0xvYWRlciB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IHBlcnNpc3RlbmNlTGF5ZXJQcm92aWRlcjogSVByb3ZpZGVyPFBlcnNpc3RlbmNlTGF5ZXI+O1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSBlbGVjdHJvbkRvY0xvYWRlcjogRWxlY3Ryb25Eb2NMb2FkZXI7XG4gICAgcHJpdmF0ZSByZWFkb25seSBicm93c2VyRG9jTG9hZGVyOiBCcm93c2VyRG9jTG9hZGVyO1xuXG4gICAgY29uc3RydWN0b3IocGVyc2lzdGVuY2VMYXllclByb3ZpZGVyOiBJUHJvdmlkZXI8UGVyc2lzdGVuY2VMYXllcj4pIHtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW5jZUxheWVyUHJvdmlkZXIgPSBwZXJzaXN0ZW5jZUxheWVyUHJvdmlkZXI7XG4gICAgICAgIHRoaXMuZWxlY3Ryb25Eb2NMb2FkZXIgPSBuZXcgRWxlY3Ryb25Eb2NMb2FkZXIocGVyc2lzdGVuY2VMYXllclByb3ZpZGVyKTtcbiAgICAgICAgdGhpcy5icm93c2VyRG9jTG9hZGVyID0gbmV3IEJyb3dzZXJEb2NMb2FkZXIocGVyc2lzdGVuY2VMYXllclByb3ZpZGVyKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlKGxvYWREb2NSZXF1ZXN0OiBMb2FkRG9jUmVxdWVzdCk6IElEb2NMb2FkUmVxdWVzdCB7XG5cbiAgICAgICAgaWYgKERpc3RSdW50aW1lLmdldCgpID09PSAnZWxlY3Ryb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVjdHJvbkRvY0xvYWRlci5jcmVhdGUobG9hZERvY1JlcXVlc3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnJvd3NlckRvY0xvYWRlci5jcmVhdGUobG9hZERvY1JlcXVlc3QpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbn1cbiJdfQ==
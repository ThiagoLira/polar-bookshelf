"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ISODateTimeStrings_1 = require("polar-shared/src/metadata/ISODateTimeStrings");
const Hashcodes_1 = require("polar-shared/src/util/Hashcodes");
const Preconditions_1 = require("polar-shared/src/Preconditions");
class ReadingProgresses {
    static create(progress, progressByMode, preExisting) {
        Preconditions_1.Preconditions.assert(progress, () => progress >= 0 && progress <= 100, "Progress value invalid. Must be within interval [0-100]");
        const created = ISODateTimeStrings_1.ISODateTimeStrings.create();
        const id = Hashcodes_1.Hashcodes.createID({ nonce: this.sequences.id++, created });
        return { id, created, progress, progressByMode, preExisting };
    }
}
exports.ReadingProgresses = ReadingProgresses;
ReadingProgresses.sequences = {
    id: 0,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVhZGluZ1Byb2dyZXNzZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJSZWFkaW5nUHJvZ3Jlc3Nlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHFGQUFnRjtBQUNoRiwrREFBMEQ7QUFFMUQsa0VBQTZEO0FBRzdELE1BQWEsaUJBQWlCO0lBTW5CLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBZ0IsRUFDaEIsY0FBOEIsRUFDOUIsV0FBcUI7UUFFdEMsNkJBQWEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUNSLEdBQUcsRUFBRSxDQUFDLFFBQVEsSUFBSSxDQUFDLElBQUksUUFBUSxJQUFJLEdBQUcsRUFDdEMseURBQXlELENBQUMsQ0FBQztRQUVoRixNQUFNLE9BQU8sR0FBRyx1Q0FBa0IsQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUU1QyxNQUFNLEVBQUUsR0FBRyxxQkFBUyxDQUFDLFFBQVEsQ0FBQyxFQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBQyxDQUFDLENBQUM7UUFFckUsT0FBTyxFQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUMsQ0FBQztJQUVoRSxDQUFDOztBQXBCTCw4Q0FzQkM7QUFwQmlCLDJCQUFTLEdBQUc7SUFDdEIsRUFBRSxFQUFFLENBQUM7Q0FDUixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJU09EYXRlVGltZVN0cmluZ3N9IGZyb20gJ3BvbGFyLXNoYXJlZC9zcmMvbWV0YWRhdGEvSVNPRGF0ZVRpbWVTdHJpbmdzJztcbmltcG9ydCB7SGFzaGNvZGVzfSBmcm9tICdwb2xhci1zaGFyZWQvc3JjL3V0aWwvSGFzaGNvZGVzJztcbmltcG9ydCB7UHJvZ3Jlc3NCeU1vZGUsIFJlYWRpbmdQcm9ncmVzc30gZnJvbSAncG9sYXItc2hhcmVkL3NyYy9tZXRhZGF0YS9SZWFkaW5nUHJvZ3Jlc3MnO1xuaW1wb3J0IHtQcmVjb25kaXRpb25zfSBmcm9tICdwb2xhci1zaGFyZWQvc3JjL1ByZWNvbmRpdGlvbnMnO1xuXG5cbmV4cG9ydCBjbGFzcyBSZWFkaW5nUHJvZ3Jlc3NlcyB7XG5cbiAgICBwdWJsaWMgc3RhdGljIHNlcXVlbmNlcyA9IHtcbiAgICAgICAgaWQ6IDAsXG4gICAgfTtcblxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKHByb2dyZXNzOiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCeU1vZGU6IFByb2dyZXNzQnlNb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgIHByZUV4aXN0aW5nPzogYm9vbGVhbik6IFJlYWRpbmdQcm9ncmVzcyB7XG5cbiAgICAgICAgUHJlY29uZGl0aW9ucy5hc3NlcnQocHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHByb2dyZXNzID49IDAgJiYgcHJvZ3Jlc3MgPD0gMTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlByb2dyZXNzIHZhbHVlIGludmFsaWQuIE11c3QgYmUgd2l0aGluIGludGVydmFsIFswLTEwMF1cIik7XG5cbiAgICAgICAgY29uc3QgY3JlYXRlZCA9IElTT0RhdGVUaW1lU3RyaW5ncy5jcmVhdGUoKTtcblxuICAgICAgICBjb25zdCBpZCA9IEhhc2hjb2Rlcy5jcmVhdGVJRCh7bm9uY2U6IHRoaXMuc2VxdWVuY2VzLmlkKyssIGNyZWF0ZWR9KTtcblxuICAgICAgICByZXR1cm4ge2lkLCBjcmVhdGVkLCBwcm9ncmVzcywgcHJvZ3Jlc3NCeU1vZGUsIHByZUV4aXN0aW5nfTtcblxuICAgIH1cblxufVxuIl19
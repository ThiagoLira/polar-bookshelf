"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function lazyObjEquals(a, b) {
    for (const key of Object.keys(a)) {
        if (!lazyEquals(a[key], b[key])) {
            return false;
        }
    }
    return true;
}
exports.lazyObjEquals = lazyObjEquals;
function typ(val) {
    if (val === null) {
        return 'null';
    }
    return typeof val;
}
function lazyEquals(a, b) {
    const nrUndefined = [a, b].filter(val => val === undefined).length;
    const nrNull = [a, b].filter(val => val === null).length;
    if ([1].includes(nrUndefined)) {
        return false;
    }
    if ([1].includes(nrNull)) {
        return false;
    }
    const aObj = a;
    const bObj = b;
    if (aObj && aObj.oid && bObj && bObj.oid) {
        return aObj.oid === bObj.oid;
    }
    return a === b;
}
exports.lazyEquals = lazyEquals;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGF6eUNvbXBvbmVudHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJMYXp5Q29tcG9uZW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLFNBQWdCLGFBQWEsQ0FBQyxDQUFVLEVBQUUsQ0FBVTtJQUVoRCxLQUFLLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7UUFFOUIsSUFBSSxDQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7WUFDOUIsT0FBTyxLQUFLLENBQUM7U0FDaEI7S0FFSjtJQUVELE9BQU8sSUFBSSxDQUFDO0FBRWhCLENBQUM7QUFaRCxzQ0FZQztBQUVELFNBQVMsR0FBRyxDQUFDLEdBQVE7SUFFakIsSUFBSSxHQUFHLEtBQUssSUFBSSxFQUFFO1FBQ2QsT0FBTyxNQUFNLENBQUM7S0FDakI7SUFFRCxPQUFPLE9BQU8sR0FBRyxDQUFDO0FBRXRCLENBQUM7QUFFRCxTQUFnQixVQUFVLENBQUMsQ0FBVyxFQUFFLENBQVc7SUFJL0MsTUFBTSxXQUFXLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNuRSxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDO0lBRXpELElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDM0IsT0FBTyxLQUFLLENBQUM7S0FDaEI7SUFFRCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1FBQ3RCLE9BQU8sS0FBSyxDQUFDO0tBQ2hCO0lBTUQsTUFBTSxJQUFJLEdBQVMsQ0FBQyxDQUFDO0lBQ3JCLE1BQU0sSUFBSSxHQUFTLENBQUMsQ0FBQztJQUVyQixJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ3RDLE9BQU8sSUFBSSxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDO0tBQ2hDO0lBRUQsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBRW5CLENBQUM7QUE1QkQsZ0NBNEJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtPYmplY3RJRH0gZnJvbSAnLi4vdXRpbC9PYmplY3RJRHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gbGF6eU9iakVxdWFscyhhOiBMYXp5TWFwLCBiOiBMYXp5TWFwKSB7XG5cbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhhKSkge1xuXG4gICAgICAgIGlmICghIGxhenlFcXVhbHMoYVtrZXldLCBiW2tleV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuXG59XG5cbmZ1bmN0aW9uIHR5cCh2YWw6IGFueSk6IHN0cmluZyB7XG5cbiAgICBpZiAodmFsID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVvZiB2YWw7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxhenlFcXVhbHMoYTogTGF6eVR5cGUsIGI6IExhenlUeXBlKSB7XG5cbiAgICAvLyB0eXBlb2YgbnVsbCBpcyAnb2JqZWN0J1xuXG4gICAgY29uc3QgbnJVbmRlZmluZWQgPSBbYSwgYl0uZmlsdGVyKHZhbCA9PiB2YWwgPT09IHVuZGVmaW5lZCkubGVuZ3RoO1xuICAgIGNvbnN0IG5yTnVsbCA9IFthLCBiXS5maWx0ZXIodmFsID0+IHZhbCA9PT0gbnVsbCkubGVuZ3RoO1xuXG4gICAgaWYgKFsxXS5pbmNsdWRlcyhuclVuZGVmaW5lZCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChbMV0uaW5jbHVkZXMobnJOdWxsKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogaXQgc2hvdWxkIGJlIHBvc3NpYmxlIHRvIHdvcmsgd2l0aCBhbnkgY29tYmluYXRpb24gb2YgZGVlcCBvYmplY3RzXG4gICAgLy8gYXMgbG9uZyBhcyB0aGV5IGRvbid0IGhhdmUgZnVuY3Rpb25zIG9yIHRoaW5ncyB0aGF0IGFyZSBkaWZmaWN1bHQgdG9cbiAgICAvLyBjb21wYXJlLlxuXG4gICAgY29uc3QgYU9iaiA9IDxhbnk+IGE7XG4gICAgY29uc3QgYk9iaiA9IDxhbnk+IGI7XG5cbiAgICBpZiAoYU9iaiAmJiBhT2JqLm9pZCAmJiBiT2JqICYmIGJPYmoub2lkKSB7XG4gICAgICAgIHJldHVybiBhT2JqLm9pZCA9PT0gYk9iai5vaWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEgPT09IGI7XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBMYXp5UHJvcHMgZXh0ZW5kcyBMYXp5TWFwIHtcblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIExhenlTdGF0ZSBleHRlbmRzIExhenlNYXAge1xuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGF6eU1hcCB7XG4gICAgW2tleTogc3RyaW5nXTogTGF6eVR5cGUgfCB1bmRlZmluZWQgfCBudWxsO1xufVxuXG5cbi8vIFRPRE86IHN1cHBvcnQgYXJyYXlzIG9mIHByaW1pdGl2ZXMgcGx1cyBhcnJheXMgb2YgT2JqZWN0SUQuXG5leHBvcnQgdHlwZSBMYXp5VHlwZSA9IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBPYmplY3RJRCB8IHVuZGVmaW5lZCB8IG51bGw7XG5cbiJdfQ==
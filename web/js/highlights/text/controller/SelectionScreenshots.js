"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class SelectionScreenshots {
    static getClientRect(range) {
        return range.getBoundingClientRect();
    }
    static withoutRange(doc, win, handler) {
        const sel = win.getSelection();
        const range = sel.getRangeAt(0);
        doc.body.classList.toggle('selection-disabled', true);
        const result = handler(range);
        doc.body.classList.toggle('selection-disabled', false);
        return result;
    }
}
exports.SelectionScreenshots = SelectionScreenshots;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0aW9uU2NyZWVuc2hvdHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJTZWxlY3Rpb25TY3JlZW5zaG90cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU1BLE1BQWEsb0JBQW9CO0lBcUJ0QixNQUFNLENBQUMsYUFBYSxDQUFDLEtBQVk7UUFDcEMsT0FBTyxLQUFLLENBQUMscUJBQXFCLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRU0sTUFBTSxDQUFDLFlBQVksQ0FBSSxHQUFhLEVBQUUsR0FBVyxFQUFFLE9BQTRCO1FBRWxGLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUMvQixNQUFNLEtBQUssR0FBRyxHQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRWpDLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUV0RCxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFOUIsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLG9CQUFvQixFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXZELE9BQU8sTUFBTSxDQUFDO0lBRWxCLENBQUM7Q0FFSjtBQXhDRCxvREF3Q0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NjcmVlbnNob3R9IGZyb20gJy4uLy4uLy4uL3NjcmVlbnNob3RzL1NjcmVlbnNob3QnO1xuaW1wb3J0IHtPcHRpb25hbH0gZnJvbSAncG9sYXItc2hhcmVkL3NyYy91dGlsL3RzL09wdGlvbmFsJztcblxuLyoqXG4gKiBSZW1vdmUgdGhlIHNlbGVjdGlvbiwgdGFrZSBhIHNjcmVlbnNob3QsIHRoZW4gcmVzdG9yZSBpdC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNlbGVjdGlvblNjcmVlbnNob3RzIHtcblxuICAgIC8vIHB1YmxpYyBzdGF0aWMgY2FwdHVyZShkb2M6IERvY3VtZW50LCB3aW46IFdpbmRvdykge1xuICAgIC8vXG4gICAgLy8gICAgIHJldHVybiB0aGlzLndpdGhvdXRSYW5nZShkb2MsIHdpbiwgcmFuZ2UgPT4ge1xuICAgIC8vXG4gICAgLy8gICAgICAgICByZXR1cm4gdGhpcy5jYXB0dXJlUmFuZ2Uod2luLCByYW5nZSk7XG4gICAgLy9cbiAgICAvLyAgICAgfSk7XG4gICAgLy9cbiAgICAvLyB9XG4gICAgLy9cbiAgICAvLyBwdWJsaWMgc3RhdGljIGNhcHR1cmVSYW5nZSh3aW46IFdpbmRvdywgcmFuZ2U6IFJhbmdlKTogU2VsZWN0aW9uU2NyZWVuc2hvdCB7XG4gICAgLy8gICAgIGxldCBjbGllbnRSZWN0ID0gdGhpcy5nZXRDbGllbnRSZWN0KHJhbmdlKTtcbiAgICAvLyAgICAgY2xpZW50UmVjdCA9IElGcmFtZXMuY29tcHV0ZVRvcExldmVsQ2xpZW50UmVjdChjbGllbnRSZWN0LCB3aW4pO1xuICAgIC8vXG4gICAgLy8gICAgIGNvbnN0IGNhcHR1cmVkU2NyZWVuc2hvdFByb21pc2UgPSBDYXB0dXJlZFNjcmVlbnNob3RzLmNhcHR1cmUoY2xpZW50UmVjdCk7XG4gICAgLy9cbiAgICAvLyAgICAgcmV0dXJuIHtjbGllbnRSZWN0LCBjYXB0dXJlZFNjcmVlbnNob3RQcm9taXNlfTtcbiAgICAvLyB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGdldENsaWVudFJlY3QocmFuZ2U6IFJhbmdlKSB7XG4gICAgICAgIHJldHVybiByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIHdpdGhvdXRSYW5nZTxUPihkb2M6IERvY3VtZW50LCB3aW46IFdpbmRvdywgaGFuZGxlcjogKHJhbmdlOiBSYW5nZSkgPT4gVCk6IFQge1xuXG4gICAgICAgIGNvbnN0IHNlbCA9IHdpbi5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBzZWwhLmdldFJhbmdlQXQoMCk7XG5cbiAgICAgICAgZG9jLmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0aW9uLWRpc2FibGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gaGFuZGxlcihyYW5nZSk7XG5cbiAgICAgICAgZG9jLmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnc2VsZWN0aW9uLWRpc2FibGVkJywgZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICB9XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTZWxlY3Rpb25TY3JlZW5zaG90IHtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjbGllbnRSZWN0IHdpdGggaWZyYW1lcyBmYWN0b3JlZCBpbiwgdXNlZCB0byB0YWtlIHRoaXMgc2NyZWVuc2hvdC5cbiAgICAgKi9cbiAgICByZWFkb25seSBjbGllbnRSZWN0OiBDbGllbnRSZWN0O1xuXG4gICAgcmVhZG9ubHkgY2FwdHVyZWRTY3JlZW5zaG90UHJvbWlzZTogUHJvbWlzZTxPcHRpb25hbDxTY3JlZW5zaG90Pj47XG5cbn1cbiJdfQ==
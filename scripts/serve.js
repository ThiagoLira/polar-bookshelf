"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const WebserverCerts_1 = require("../web/js/backend/webserver/WebserverCerts");
const DefaultRewrites_1 = require("polar-backend-shared/src/webserver/DefaultRewrites");
const WebserverConfig_1 = require("polar-shared-webserver/src/webserver/WebserverConfig");
const FileRegistry_1 = require("polar-shared-webserver/src/webserver/FileRegistry");
const Webserver_1 = require("polar-shared-webserver/src/webserver/Webserver");
const webserverConfig = WebserverConfig_1.WebserverConfigs.create({
    dir: 'dist/public',
    port: 443,
    host: 'localhost',
    useSSL: true,
    ssl: {
        cert: WebserverCerts_1.WebserverCerts.CERT,
        key: WebserverCerts_1.WebserverCerts.KEY,
    },
    rewrites: DefaultRewrites_1.DefaultRewrites.create()
});
const fileRegistry = new FileRegistry_1.FileRegistry(webserverConfig);
const webserver = new Webserver_1.Webserver(webserverConfig, fileRegistry);
webserver.start()
    .catch(err => console.log("Unable to start webserver: ", err));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VydmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJzZXJ2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLCtFQUEwRTtBQUMxRSx3RkFBbUY7QUFDbkYsMEZBQXNGO0FBQ3RGLG9GQUErRTtBQUMvRSw4RUFBeUU7QUFFekUsTUFBTSxlQUFlLEdBQUcsa0NBQWdCLENBQUMsTUFBTSxDQUFDO0lBQzdDLEdBQUcsRUFBRSxhQUFhO0lBQ2xCLElBQUksRUFBRSxHQUFHO0lBQ1QsSUFBSSxFQUFFLFdBQVc7SUFDakIsTUFBTSxFQUFFLElBQUk7SUFDWixHQUFHLEVBQUU7UUFDRCxJQUFJLEVBQUUsK0JBQWMsQ0FBQyxJQUFJO1FBQ3pCLEdBQUcsRUFBRSwrQkFBYyxDQUFDLEdBQUc7S0FDMUI7SUFDRCxRQUFRLEVBQUUsaUNBQWUsQ0FBQyxNQUFNLEVBQUU7Q0FDcEMsQ0FBQyxDQUFDO0FBRUgsTUFBTSxZQUFZLEdBQUcsSUFBSSwyQkFBWSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBRXZELE1BQU0sU0FBUyxHQUFHLElBQUkscUJBQVMsQ0FBQyxlQUFlLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDL0QsU0FBUyxDQUFDLEtBQUssRUFBRTtLQUNaLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkJBQTZCLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7V2Vic2VydmVyQ2VydHN9IGZyb20gJy4uL3dlYi9qcy9iYWNrZW5kL3dlYnNlcnZlci9XZWJzZXJ2ZXJDZXJ0cyc7XG5pbXBvcnQge0RlZmF1bHRSZXdyaXRlc30gZnJvbSBcInBvbGFyLWJhY2tlbmQtc2hhcmVkL3NyYy93ZWJzZXJ2ZXIvRGVmYXVsdFJld3JpdGVzXCI7XG5pbXBvcnQge1dlYnNlcnZlckNvbmZpZ3N9IGZyb20gXCJwb2xhci1zaGFyZWQtd2Vic2VydmVyL3NyYy93ZWJzZXJ2ZXIvV2Vic2VydmVyQ29uZmlnXCI7XG5pbXBvcnQge0ZpbGVSZWdpc3RyeX0gZnJvbSBcInBvbGFyLXNoYXJlZC13ZWJzZXJ2ZXIvc3JjL3dlYnNlcnZlci9GaWxlUmVnaXN0cnlcIjtcbmltcG9ydCB7V2Vic2VydmVyfSBmcm9tIFwicG9sYXItc2hhcmVkLXdlYnNlcnZlci9zcmMvd2Vic2VydmVyL1dlYnNlcnZlclwiO1xuXG5jb25zdCB3ZWJzZXJ2ZXJDb25maWcgPSBXZWJzZXJ2ZXJDb25maWdzLmNyZWF0ZSh7XG4gICBkaXI6ICdkaXN0L3B1YmxpYycsXG4gICBwb3J0OiA0NDMsXG4gICBob3N0OiAnbG9jYWxob3N0JyxcbiAgIHVzZVNTTDogdHJ1ZSxcbiAgIHNzbDoge1xuICAgICAgIGNlcnQ6IFdlYnNlcnZlckNlcnRzLkNFUlQsXG4gICAgICAga2V5OiBXZWJzZXJ2ZXJDZXJ0cy5LRVksXG4gICB9LFxuICAgcmV3cml0ZXM6IERlZmF1bHRSZXdyaXRlcy5jcmVhdGUoKVxufSk7XG5cbmNvbnN0IGZpbGVSZWdpc3RyeSA9IG5ldyBGaWxlUmVnaXN0cnkod2Vic2VydmVyQ29uZmlnKTtcblxuY29uc3Qgd2Vic2VydmVyID0gbmV3IFdlYnNlcnZlcih3ZWJzZXJ2ZXJDb25maWcsIGZpbGVSZWdpc3RyeSk7XG53ZWJzZXJ2ZXIuc3RhcnQoKVxuICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coXCJVbmFibGUgdG8gc3RhcnQgd2Vic2VydmVyOiBcIiwgZXJyKSk7XG5cbiJdfQ==